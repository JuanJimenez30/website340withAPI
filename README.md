<!-- # website340withAPI
My individual website with the api -->

# jpa-crud-api-weird-Animals
Simple CRUD API for weird animal Objects with JPA (Hibernate)

### Version
1.0.0

## Installation
- Get the project
    - clone
        ```
      git clone https://github.com/JuanJimenez30/website340withAPI.git
        ```
    - OR download zip.
- Open the project in VS Code.
- This project is built to run with jdk 21.
- [Dependencies](https://github.com/JuanJimenez30/website340withAPI/blob/main/pom.xml) to JPA and Postgres in addition to the usual Spring Web. JPA handles the persistence, Postgresql is the database to be used.
- [`/src/main/resources/application.properties`](https://github.com/JuanJimenez30/website340withAPI/blob/main/src/main/resources/application.properties) This file has the configuration for the PostgreSQL database to use for the API.
  - You MUST have the database up and running before running the project!
    - Login to your neon.tech account.
    - Locate your database project.
    - On the project dashboard, click on "Connect" and select Java.
    - Copy the connection string provided.
    - Paste it as a value for the property `spring.datasource.url`. No quotation marks.
- Build and run the main class. You should see a new table created in the Neon database.

## API Endpoints
Base URL: [`http://localhost:8080/weird-animals`](http://localhost:8080/weird-animals)


1. ### [`/`](http://localhost:8080/weird-animals) (GET)
Gets a list of all weird animals in the database.

#### Response - A JSON array of weird animal objects.

 ```
[
  {
    "animalId": 1,
    "name": "Spider",
    "description": "Spider has 8 legs",
    "habitat": "Forest",
    "species": "Hobo Spider"
  },
  {
    "animalId": 2,
    "name": "George",
    "description": "This is a monkey",
    "habitat": "forest",
    "species": "Proboscis monkey"
  }
]
```

2. ### [`/{id}`](http://localhost:8080/weird-animals/1) (GET)
Gets an individual weird animal in the system. Each weird animal is identified by a numeric `Id`

#### Parameters
- Path Variable: `Id` &lt;Long &gt; - REQUIRED

#### Response - A single weird animal

```
  {
  "animalId": 1,
  "name": "Spider",
  "description": "Spider has 8 legs",
  "habitat": "Forest",
  "species": "Hobo Spider"
}
```

3. ### [`/name`](http://localhost:8080/weird-animals/name?key=s) (GET)
Gets a list of weird animals with a name that contains the given string.

#### Parameters
- query parameter: `name` &lt; String &gt; - REQUIRED

#### Response - A JSON array of weird animal objects.

```
[
  {
    "animalId": 3,
    "name": "sharky",
    "description": "Shark has many teeth",
    "habitat": "Ocean deep sea Updated",
    "species": "Mitsukurina owstoni"
  }
]
```

4. ### [`/habitat`](http://localhost:8080/weird-animals/habitat?key=O) (GET)
Gets a list of weird animal with a habitat that contains the given string.

#### Parameters
- path variable: `habitat` &lt; String &gt; - REQUIRED

#### Response - A JSON array of weird animal objects.

```
[
  {
    "animalId": 3,
    "name": "sharky",
    "description": "Shark has many teeth",
    "habitat": "Ocean deep sea Updated",
    "species": "Mitsukurina owstoni"
  }
]
```
5. ### [`/species/{species}`](http://localhost:8080/weird-animals/species/Mitsukurina owstoni) (GET)
Gets a list of weird animals with a species that contains the given string.

#### Parameters
- query parameter: `species` &lt; String &gt; - REQUIRED

#### Response - A JSON array of weird animal objects.

```
[
  {
    "animalId": 3,
    "name": "sharky",
    "description": "Shark has many teeth",
    "habitat": "Ocean deep sea Updated",
    "species": "Mitsukurina owstoni"
  }
]
```
6. ### [`/`](http://localhost:8080/weird-animals) (POST)
Create a new weird animal entry

#### Request Body
A weird animal object. Note the object does not include an ID as this is autogenerated.
```
{
  "name": "monkey",
  "description": "monkey is smart",
  "habitat": "Jungle",
  "species": "Baboon"
}
```
#### Response - The newly created weird animal.

```
  {
  "animalId": 5,
  "name": "monkey",
  "description": "monkey is smart",
  "habitat": "Jungle",
  "species": "Baboon"
}
```

7. ### [`/{id}`](http://localhost:8080/weird-animals/5) (PUT)
Update an existing weird animal.

#### Parameters
- Path Variable: `Id` &lt; integer &gt; - REQUIRED

#### Request Body
A weird animal object with the updates.
```
{
  "animalId": 5,
  "name": "monkey",
  "description": "monkey is dumb (updated)",
  "habitat": "Jungle",
  "species": "Baboon"
}
```
#### Response - the updated weird animal object.
```
{
  "animalId": 5,
  "name": "monkey",
  "description": "monkey is dumb (updated)",
  "habitat": "Jungle",
  "species": "Baboon"
}
```

8. ### [`/{id}`](http://localhost:8080/weird-animals/4) (DELETE)
Delete an existing weird animal.

#### Parameters
- Path Variable: `Id` &lt; integer &gt; - REQUIRED

#### Response - the updated list of weird animals.
```
[
  {
    "animalId": 1,
    "name": "Spider",
    "description": "Spider has 8 legs",
    "habitat": "Forest",
    "species": "Hobo Spider"
  },
  {
    "animalId": 3,
    "name": "sharky",
    "description": "Shark has many teeth",
    "habitat": "Ocean deep sea Updated",
    "species": "Mitsukurina owstoni"
  }
]
```

### Link to demo
```
https://1drv.ms/v/c/9dc3ee60c0f24c7e/EcPWDZsuLqZJvGbIcs6tsScB22OaY2xgNT6kzbmQxTZuuw
```